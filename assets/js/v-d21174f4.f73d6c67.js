"use strict";(self.webpackChunkreicalg=self.webpackChunkreicalg||[]).push([[135],{7161:(l,e,o)=>{o.r(e),o.d(e,{data:()=>t});const t={key:"v-d21174f4",path:"/web/web3.html",title:"php特性刷题",lang:"zh-CN",frontmatter:{date:"2023/6/6 19:57",stick:!1,keyword:"web,ctfshow",description:"刷题",title:"php特性刷题",tag:["ctfshow刷题"],categories:["php特性","歪比八卜"]},excerpt:"",headers:[{level:2,title:"php特性",slug:"php特性",children:[{level:3,title:"Web89",slug:"web89",children:[]},{level:3,title:"Web90",slug:"web90",children:[]},{level:3,title:"Web91",slug:"web91",children:[]},{level:3,title:"Web92",slug:"web92",children:[]},{level:3,title:"Web93",slug:"web93",children:[]},{level:3,title:"Web94",slug:"web94",children:[]},{level:3,title:"Web95",slug:"web95",children:[]},{level:3,title:"Web96",slug:"web96",children:[]},{level:3,title:"Web97",slug:"web97",children:[]},{level:3,title:"Web98",slug:"web98",children:[]},{level:3,title:"Web99",slug:"web99",children:[]},{level:3,title:"Web100",slug:"web100",children:[]},{level:3,title:"web101",slug:"web101",children:[]},{level:3,title:"Web102",slug:"web102",children:[]}]}],git:{}}},1631:(l,e,o)=>{o.r(e),o.d(e,{default:()=>Cl});var t=o(6252);const a=(0,t._)("h2",{id:"php特性",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#php特性","aria-hidden":"true"},"#"),(0,t.Uk)(" php特性")],-1),i=(0,t._)("h3",{id:"web89",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web89","aria-hidden":"true"},"#"),(0,t.Uk)(" Web89")],-1),n=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20230607100007017",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071000076.png",data:"aurora"})],-1),c=(0,t.uE)('<blockquote><p>数组绕过原理：preg_match()只能处理字符串，当传入的subject是数组时会返回false intval（）用于获取变量的整数值。也可用于进制的转化</p></blockquote><blockquote><p>PHP 是一门弱类型语言不必向 PHP 声明该变量的数据类型。PHP 会根据变量的值，自动把变量转换为正确的数据类型。</p></blockquote><h3 id="web90" tabindex="-1"><a class="header-anchor" href="#web90" aria-hidden="true">#</a> Web90</h3><img src="https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071000168.png" alt="image-20230607100032127"><blockquote><p>字符绕过：intval()而言，如果参数是字符串，则返回字符串中第一个不是数字的字符之前的数字串所代表的整数值。如果字符串第一个是‘-’，则从第二个开始算起。如果参数是符点数，则返回他取整之后的值。</p></blockquote><blockquote><p>int intval ( mixed $var [, int $base = 10 ] )</p></blockquote><blockquote><p>参数说明：</p></blockquote><blockquote><p>$var：要转换成 integer 的数量值。</p></blockquote><blockquote><p>$base：转化所使用的进制。</p></blockquote><blockquote><p>如果 base 是 0，通过检测 var 的格式来决定使用的进制：</p></blockquote><blockquote><p>如果字符串包括了 &quot;0x&quot; (或 &quot;0X&quot;) 的前缀，使用 16 进制 (hex)；否则，如果字符串以 &quot;0&quot; 开始，使用 8 进制(octal)；否则，将使用 10 进制 (decimal)。</p></blockquote><h3 id="web91" tabindex="-1"><a class="header-anchor" href="#web91" aria-hidden="true">#</a> Web91</h3>',12),u=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"image-20230607151820515",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071518574.png",data:"aurora"})],-1),r=(0,t._)("blockquote",null,[(0,t._)("p",null,"一个正则判断")],-1),p=(0,t.Uk)("去看就完事了"),g={href:"https://blog.csdn.net/xuemoyao/article/details/8033138?ops_request_misc=%7B%22request%5Fid%22%3A%22165222532616782391878742%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=165222532616782391878742&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-8033138-null-null.142%5Ev9%5Epc_search_result_control_group,157%5Ev4%5Econtrol&utm_term=%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F&spm=1018.2226.3001.4187",target:"_blank",rel:"noopener noreferrer"},b=(0,t.Uk)("正则表达式全解析+正则表达式例子详解"),s=(0,t._)("p",null,"m是多行匹配，i是忽略大小写",-1),_=(0,t._)("blockquote",null,[(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image007",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071520576.png",data:"aurora"}),(0,t.Uk)("匹配变量中多行开头到结尾要有php")])],-1),h=(0,t._)("blockquote",null,[(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image008",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071520696.png",data:"aurora"}),(0,t.Uk)("匹配变量中一行行开头到结尾要有php")])],-1),d=(0,t._)("h3",{id:"web92",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web92","aria-hidden":"true"},"#"),(0,t.Uk)(" Web92")],-1),m=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image010",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071520853.png",data:"aurora"})],-1),q=(0,t._)("blockquote",null,[(0,t._)("p",null,"关于intval（）函数的用法看web90"),(0,t._)("p",null,"这道题意思是num这个变量转化为八进制是4476，还是考intval的用法")],-1),k=(0,t._)("h3",{id:"web93",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web93","aria-hidden":"true"},"#"),(0,t.Uk)(" Web93")],-1),f=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image011",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071521259.png",data:"aurora"})],-1),w=(0,t._)("blockquote",null,[(0,t._)("p",null,"相比上一题多了匹配正则 不能出现字母 断了16进制（0x） 8进制（0）不受影响，进制绕过")],-1),v=(0,t._)("h3",{id:"web94",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web94","aria-hidden":"true"},"#"),(0,t.Uk)(" Web94")],-1),y=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image013",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071521144.png",data:"aurora"})],-1),z=(0,t._)("blockquote",null,[(0,t._)("p",null,"strpos() 函数返回字符串在另一字符串中第一次出现的位置。如果存在，返回数字，如果没有找到该字符串，则返回false.所以num值中要出现0，算一个比较函数")],-1),j=(0,t._)("blockquote",null,[(0,t._)("p",null,"第三个判断就限制了八进制 如果num==010574 strpos()返回字符串第一次出现的位置就是0，第三个判断就满足了就绕不过了")],-1),W=(0,t._)("blockquote",null,[(0,t._)("p",null,"浮点绕过")],-1),$=(0,t._)("h3",{id:"web95",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web95","aria-hidden":"true"},"#"),(0,t.Uk)(" Web95")],-1),x=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image015",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071521951.png",data:"aurora"})],-1),U=(0,t._)("blockquote",null,[(0,t._)("p",null,"Intval（）函数会将输入的数前的“空格”和“+”（有且仅有）可当成输入的数为正数，一个绕过方法")],-1),E=(0,t._)("h3",{id:"web96",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web96","aria-hidden":"true"},"#"),(0,t.Uk)(" Web96")],-1),S=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image017",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071521040.png",data:"aurora"})],-1),P=(0,t._)("blockquote",null,[(0,t._)("p",null,"Highlight_file可带路径，所以变量可以是路径")],-1),D=(0,t._)("h3",{id:"web97",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web97","aria-hidden":"true"},"#"),(0,t.Uk)(" Web97")],-1),A=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image019",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071521079.png",data:"aurora"})],-1),C=(0,t.Uk)("考察md5加密："),H={href:"https://blog.csdn.net/wangyuxiang946/article/details/119845182?ops_request_misc=%7B%22request%5Fid%22%3A%22165261132516782184692274%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=165261132516782184692274&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-1-119845182-null-null.142%5Ev9%5Epc_search_result_control_group,157%5Ev4%5Econtrol&utm_term=md5%E6%95%B0%E7%BB%84&spm=1018.2226.3001.4187",target:"_blank",rel:"noopener noreferrer"},M=(0,t.Uk)(" MD5加密漏洞(MD5绕过方式-0e绕过/数组绕过/MD5碰撞/MD5SQL注入)"),B=(0,t._)("blockquote",null,[(0,t._)("p",null,"MD5是一种散列函数,是哈希算法的一种,可以将任意长度的输入,通过散列算法变换成128位的散列值")],-1),F=(0,t._)("blockquote",null,[(0,t._)("p",null,"MD5加密有4种绕过方式1、0e绕过1、数组绕过1、MD5碰撞1、MD5SQL注入")],-1),T=(0,t._)("blockquote",null,[(0,t._)("p",null,"这道题需要用到===强比较（判断内容的基础上,还会判断类型是否相同），所以不能用0e弱比较绕过，用数组绕过"),(0,t._)("p",null,"由于md5函数无法处理数组,会返回null,所以md5加密后的结果是下面这样"),(0,t._)("p",null,"null === null 满足条件就可以绕过了")],-1),L=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image021",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071522290.png",data:"aurora"})],-1),R=(0,t._)("h3",{id:"web98",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web98","aria-hidden":"true"},"#"),(0,t.Uk)(" Web98")],-1),G=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image023",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071522985.png",data:"aurora"})],-1),I=(0,t._)("blockquote",null,[(0,t._)("p",null,"用到了？三元运算符 即前面表达式为真，则执行：前的，反之执行：后的")],-1),Q=(0,t._)("blockquote",null,[(0,t._)("p",null,"“=&“的一个说明")],-1),N=(0,t._)("blockquote",null,[(0,t._)("p",null,"$a = $b; //把$b赋值给$a,如果赋值之后,$b改变了,$a不变")],-1),O=(0,t._)("blockquote",null,[(0,t._)("p",null,"$a =&$b; //把$b的地址传递给$a,这时候,$a和$b都指向内存中的同一块地址,所以如果赋值后,$b改变,$a也会改变")],-1),X=(0,t._)("blockquote",null,[(0,t._)("p",null,"如果$_GET有东西传参进去就 将$_GET方法变成$_POST方法")],-1),Y=(0,t._)("blockquote",null,[(0,t._)("p",null,"思路：随便传一个get值，不能是flag=flag就行，并传post值HTTP_FLAG=flag 在判断highlight_file时就能通过")],-1),Z=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image025",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071522735.png",data:"aurora"})],-1),J=(0,t._)("h3",{id:"web99",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web99","aria-hidden":"true"},"#"),(0,t.Uk)(" Web99")],-1),K=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image027",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071522978.png",data:"aurora"})],-1),V=(0,t.uE)("<blockquote><p>array_push() 函数向数组尾部插入一个或多个元素。</p></blockquote><blockquote><p>array_push(<em>array,value1,value2...</em>)</p></blockquote><blockquote><p>$a=array(&quot;a&quot;=&gt;&quot;red&quot;,&quot;b&quot;=&gt;&quot;green&quot;); array_push($a,&quot;blue&quot;,&quot;yellow&quot;); 两种使用方式</p></blockquote><blockquote><p>如果数组</p></blockquote><blockquote><p>file_put_contents() 函数把一个字符串写入文件中。如果成功，该函数将返回写入文件中的字符数。如果失败，则返回 False。</p></blockquote><blockquote><p>in_array — 检查数组中是否存在某个值{</p></blockquote><blockquote><p>in_array(mixed $needle, array $haystack, bool $strict = false): bool</p></blockquote><blockquote><p>大海捞针，在大海（haystack）中搜索针（ needle），如果没有设置 strict 则使用宽松的比较。 }36-846的随机写入数字 有一个概率问题 到底会有什么会在allow数组中 1的可能性是最大的</p></blockquote><blockquote><p>这道题是弱比较类型所以 字符串类型绕过1.php==1</p></blockquote><blockquote><p>通过post传参写入 rce</p><p>然后访问2.php就行</p></blockquote>",10),ll=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image029",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523710.png",data:"aurora"})],-1),el=(0,t._)("h3",{id:"web100",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web100","aria-hidden":"true"},"#"),(0,t.Uk)(" Web100")],-1),ol=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image031",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523863.png",data:"aurora"})],-1),tl=(0,t._)("blockquote",null,[(0,t._)("p",null,"is_numeric — 检测变量是否为数字或数字字符串")],-1),al=(0,t.Uk)("如果 "),il=(0,t._)("code",null,"value",-1),nl=(0,t.Uk)(" 是数字或"),cl={href:"https://www.php.net/manual/zh/language.types.numeric-strings.php",target:"_blank",rel:"noopener noreferrer"},ul=(0,t.Uk)("数字字符串"),rl=(0,t.Uk)("， 返回 "),pl=(0,t._)("code",null,"**true**",-1),gl=(0,t.Uk)("；否则返回 "),bl=(0,t._)("code",null,"**false**",-1),sl=(0,t.Uk)("。"),_l=(0,t._)("blockquote",null,[(0,t._)("p",null,"这里是个大坑 因为赋值运算优先于逻辑判断，且赋值运算逻辑为true 所以这个$v0与后面的$v2$v3无关")],-1),hl=(0,t._)("blockquote",null,[(0,t._)("p",null,"还有$v2中不能出现； 考虑PHP语句最后一句可不加；直接闭合")],-1),dl=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image033",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523123.png",data:"aurora"})],-1),ml=(0,t._)("blockquote",null,[(0,t._)("p",null,"正常RCE")],-1),ql=(0,t._)("blockquote",null,[(0,t._)("p",null,"ctfshow{2d6dd5c50x2d8c980x2d4c3e0x2da10e0x2dc6b39863b5e2}")],-1),kl=(0,t._)("blockquote",null,[(0,t._)("p",null,"0x2d=”-”")],-1),fl=(0,t._)("blockquote",null,[(0,t._)("p",null,"ctfshow{2d6dd5c5-8c98-4c3e-a10e-c6b39863b5e2}")],-1),wl=(0,t._)("h3",{id:"web101",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web101","aria-hidden":"true"},"#"),(0,t.Uk)(" web101")],-1),vl=(0,t.Uk)("考点：PHP 反射机制Reflection"),yl={href:"https://www.php.net/manual/zh/class.reflectionclass.php",target:"_blank",rel:"noopener noreferrer"},zl=(0,t.Uk)("PHP: ReflectionClass - Manual"),jl=(0,t._)("blockquote",null,[(0,t._)("p",null,[(0,t._)("strong",null,"ReflectionClass"),(0,t.Uk)(" 类报告了一个类的有关信息。")])],-1),Wl=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image035",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523714.png",data:"aurora"})],-1),$l=(0,t._)("blockquote",null,[(0,t._)("p",null,"这样可以echo出asd类中的属性及其方法")],-1),xl=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image037",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523658.png",data:"aurora"})],-1),Ul=(0,t._)("blockquote",null,[(0,t._)("p",null,"注意这次的flag值少了一位，自己猜一下")],-1),El=(0,t._)("h3",{id:"web102",tabindex:"-1"},[(0,t._)("a",{class:"header-anchor",href:"#web102","aria-hidden":"true"},"#"),(0,t.Uk)(" Web102")],-1),Sl=(0,t._)("p",null,[(0,t._)("img",{src:"https://ooszy.cco.vin/img/blog-public/ljz.gif",alt:"clip_image039",originSrc:"https://blog-1318287398.cos.ap-nanjing.myqcloud.com/img/202306071523844.png",data:"aurora"})],-1),Pl=(0,t._)("blockquote",null,[(0,t._)("p",null,"substr() 函数返回字符串的一部分。substr(string,start,length)")],-1),Dl=(0,t._)("blockquote",null,[(0,t._)("p",null,"call_user_func — 把第一个参数作为回调函数调用")],-1),Al={},Cl=(0,o(3744).Z)(Al,[["render",function(l,e){const o=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[a,i,n,c,u,r,(0,t._)("blockquote",null,[(0,t._)("p",null,[p,(0,t._)("a",g,[b,(0,t.Wm)(o)])]),s]),_,h,d,m,q,k,f,w,v,y,z,j,W,$,x,U,E,S,P,D,A,(0,t._)("blockquote",null,[(0,t._)("p",null,[C,(0,t._)("a",H,[M,(0,t.Wm)(o)])])]),B,F,T,L,R,G,I,Q,N,O,X,Y,Z,J,K,V,ll,el,ol,tl,(0,t._)("blockquote",null,[(0,t._)("p",null,[al,il,nl,(0,t._)("a",cl,[ul,(0,t.Wm)(o)]),rl,pl,gl,bl,sl])]),_l,hl,dl,ml,ql,kl,fl,wl,(0,t._)("blockquote",null,[(0,t._)("p",null,[vl,(0,t._)("a",yl,[zl,(0,t.Wm)(o)])])]),jl,Wl,$l,xl,Ul,El,Sl,Pl,Dl],64)}]])}}]);